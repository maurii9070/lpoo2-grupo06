<UserControl x:Class="Vistas.Usuarios.GestionUsuariosUC"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="400" d:DesignWidth="700">
    <Grid Background="White">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Barra título + botón -->
            <RowDefinition Height="Auto"/>
            <!-- Filtro -->
            <RowDefinition Height="*"/>
            <!-- Grilla / mensaje vacío -->
        </Grid.RowDefinitions>

        <!-- ================= TÍTULO + BOTÓN ================= -->
        <DockPanel Grid.Row="0" Margin="10">
            <Button x:Name="Btn_ABM"
                    DockPanel.Dock="Right"
                    Background="#FF2196F3"
                    BorderBrush="#FF1976D2"
                    BorderThickness="1"
                    Content="ABM DE USUARIOS"
                    FontWeight="Bold"
                    Foreground="White"
                    Width="190" Height="40"
                    Click="Btn_ABM_Click"/>
            <TextBlock Text="Gestión de Usuarios"
                       FontSize="28"
                       FontWeight="Bold"
                       VerticalAlignment="Center"
                       HorizontalAlignment="Center"
                       Foreground="#FF1E3A8A"/>
        </DockPanel>

        <!-- ================= FILTRO ================= -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="10,5">
            <Label Content="Nombre de Usuario:"
                   FontWeight="Bold"
                   Foreground="#FF1E3A8A"
                   FontSize="16"
                   VerticalAlignment="Center"/>
            <TextBox x:Name="TxtFiltro"
                     Width="300"
                     Margin="10,0,0,0"
                     Padding="5"
                     FontSize="14"
                     TextChanged="TxtFiltro_TextChanged"/>
            <Button Content="Vista Previa" 
                Name="btnVistaPrevia"
                Height="25" 
                Click="btnVistaPrevia_Click" 
                Margin="10,0"/>
        </StackPanel>

        <!-- ================= GRILLA / SIN DATOS ================= -->
        <Grid Grid.Row="2" Margin="10,5,10,10">
            <!-- Mensaje cuando no hay filas -->
            <TextBlock x:Name="txtSinDatos"
                       Text="No existen usuarios cargados"
                       FontSize="16"
                       Foreground="Gray"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Center"
                       Visibility="Collapsed"/>
            <!-- Grilla -->
            <DataGrid x:Name="DtgUsuarios"
                      AutoGenerateColumns="False"
                      IsReadOnly="True"
                      GridLinesVisibility="Horizontal"
                      Background="#FFF5F5F5"
                      RowBackground="White"
                      AlternatingRowBackground="#FFEFF6FF"
                      HeadersVisibility="Column"
                      BorderBrush="#FF0068BC" BorderThickness="1">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="ID"
                                        Binding="{Binding Usu_ID}"/>
                    <DataGridTextColumn Header="Usuario"
                                        Binding="{Binding Usu_NombreUsuario}"
                                        Width="*"/>
                    <DataGridTextColumn Header="Apellido y Nombre"
                                        Binding="{Binding Usu_ApellidoNombre}"
                                        Width="*"/>
                    <DataGridTextColumn Header="Rol"
                                        Binding="{Binding RolNombre}"
                                        Width="*"/>
                    <!-- Contraseña NO se muestra -->
                </DataGrid.Columns>
            </DataGrid>
        </Grid>
    </Grid>
</UserControl>